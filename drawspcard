#include <iostream>
#include <string>
#include <vector>
#include <cstdlib>
#include <ctime> 

using namespace std;

class resource{
    public:
        int wood;
        int grain;
        int brickl;
        int ore;
        int sheep;
};
class player{
    int cards;
    public:
        vector<string> specialcard;
        resource p;
        void drawspecialcard();
        void stealresource(player& target_player, resource& target_resources,string resource_type,int n);
};

void player::drawspecialcard(){
    vector<int> cards;
    for (int i = 1; i <= 20; ++i) {
        cards.push_back(i);
    }
    int index = rand() % cards.size();
    int card = cards[index];
    
    cards.erase(cards.begin() + index);
    
    if(card%2 == 0) specialcard.push_back("steal");
    else specialcard.push_back("block");
}

void player::stealresource(player& target_player,resource& target_resources,string resource_type,int n){
    if(resource_type == "wood" && target_resources.wood > 0){
        target_resources.wood -= n;
        p.wood += n;
    }else if(resource_type == "grain" && target_resources.grain > 0){
        target_resources.grain -= n;
        p.grain += n;
    }else if(resource_type == "brick" && target_resources.brickl > 0){
        target_resources.brickl -= n;
        p.brickl += n;
    }else if(resource_type == "ore" && target_resources.ore > 0){
        target_resources.ore -= n;
        p.ore += n;
    }else if(resource_type == "sheep" && target_resources.sheep > 0){
        target_resources.sheep -= n;
        p.sheep += n;
    }else{
        cout << "Cannot steal the specified resource from the target." << endl;
    }
}

void steal(player& thief, player& target, string resource_type, int num) {
    thief.stealresource(target, target.p, resource_type, num);
}

int main(){    
    srand(time(0));
    player p1;
    player p2;
    string player_name1;
    string player_name2;
    string resources;
    int num;
    p1.drawspecialcard();
    for (int i = 0; i < p1.specialcard.size(); i++) {
        cout << p1.specialcard[i] << endl;
    }
    p1.p.wood = 0;
    p2.p.wood = 5;
    cout << "player ? : ";
    cin >> player_name1;
    cout << "player ? : ";
    cin >> player_name2;
    cout << "Enter the type of resource you want to steal (wood, grain, brick, ore, sheep): ";
    cin >> resources;
    cout << "Enter the number of resources you want to steal: ";
    cin >> num;
    
    if(player_name1 == "p1" && player_name2 == "p2"){
        steal(p1, p2, resources, num);
    }else if(player_name1 == "p2" && player_name2 == "p1"){
        steal(p2, p1, resources, num);
    }
    
    cout << p2.p.wood << endl;
    cout << p1.p.wood;
    return 0;
}

